%p
  = t('mailers.request_mailer.confirmation_email.text1')
%p
  = link_to t('mailers.request_link'), sparc_request_url(@request), target: :_blank
%table
  %thead
    %tr
      %th{ colspan: 2, style: 'padding: 0.5rem;' }
        = t('mailers.request_mailer.confirmation_email.request_info')
  %tbody
    %tr
      %th{ style: 'text-align:right;padding: 0.5rem;' }
        = SparcRequest.human_attribute_name(:id)
      %td{ style: 'padding: 0.5rem;' }
        = @request.identifier
    %tr
      %th{ style: 'text-align:right;padding: 0.5rem;' }
        = SparcRequest.human_attribute_name(:protocol_id)
      %td{ style: 'padding: 0.5rem;' }
        = @request.protocol_id
    %tr
      %th{ style: 'text-align:right;padding: 0.5rem;' }
        = SPARC::Protocol.human_attribute_name(:short_title)
      %td{ style: 'padding: 0.5rem;' }
        = @request.protocol.short_title
    %tr
      %th{ style: 'text-align:right;padding: 0.5rem;' }
        = SparcRequest.human_attribute_name(:specimen_requests)
      %td{ style: 'padding: 0.5rem;' }
        - @request.specimen_requests.each do |sr|
          %p{ style: "margin:0;" }
            - plural = sr.number_of_specimens_requested > 1
            - if sr.group.process_sample_size
              = "- " + t("requests.table.specimens.line_item_with_sample_size.#{plural ? 'plural' : 'singular'}", source: sr.source.value, amount_requested: sr.number_of_specimens_requested, min_sample_size: sr.minimum_sample_size)
            - else
              = "- " + t("requests.table.specimens.line_item_no_sample_size.#{plural ? 'plural' : 'singular'}", source: sr.source.value, amount_requested: sr.number_of_specimens_requested)
%p
  = t('mailers.request_mailer.confirmation_email.text2')
%p
  = t('mailers.request_mailer.confirmation_email.text3').html_safe
%p
  = t('mailers.request_mailer.confirmation_email.text4')

- content_for :ps do
  %h4
    = t('mailers.request_mailer.confirmation_email.data_use_agreement')

  %blockquote{ style: "margin-left:0;padding-left:1rem;border-left:1px solid lightgray;"}
    = t('requests.create_confirm.html').html_safe
