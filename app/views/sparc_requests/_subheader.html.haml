%subheader
  .page-title
    = request_breadcrumb(request)
  .subheader-links.d-flex.align-items-center
    - if ['new', 'edit'].include?(action_name)
      %button.btn.btn-lg.btn-primary#submitRequestButton{ type: 'submit', form: 'sparcRequestForm' }<
        = icon('fas', 'check mr-2')
        - if request.previously_submitted?
          = t(:requests)[:form][:update]
        - else
          = t(:requests)[:form][:submit]
      - unless request.persisted? && !is_draft
        %button.btn.btn-lg.btn-warning.ml-1#saveDraftRequestButton{ type: 'button' }<
          = icon('far', 'save mr-2')
          = t(:requests)[:form][:save_as_draft]
    - else
      = link_to "#{ENV.fetch('SPARC_HOST')}/dashboard/protocols/#{@sparc_request.protocol_id}", target: :_blank, class: 'btn btn-lg btn-outline-primary media-body d-inline-flex align-items-center justify-content-center' do
        = image_tag 'sparcrequest_icon.ico', width: 16, height: 16, class: 'mr-2'
        = t('requests.table.sparc_link')
